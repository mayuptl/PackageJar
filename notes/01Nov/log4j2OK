<?xml version="1.0" encoding="UTF-8"?>
<!-- Changed status to ERROR for maximum suppression of internal Log4j2 messages -->
<Configuration status="ERROR" debug="false">
    <Properties>
        <!-- Defines reusable pattern variables for consistent formatting -->
        <Property name="CONSOLE_PATTERN">%d{yyyy-MM-dd HH:mm:ss} [%p] %c{1} - %msg%n</Property>
        <Property name="FILE_PATTERN">%d{yyyy-MM-dd HH:mm:ss} [%p] %c{1} - %msg%n</Property>

        <!-- Using the ABSOLUTE PATH that you confirmed works for file creation -->
        <Property name="LOG_PATH">D:\Work\Automation\app-utils\app-utils\execution-output\test-logs\Logs.log</Property>
    </Properties>

    <Appenders>
        <!-- Console Appender (for immediate output) -->
        <Console name="STDOUT" target="SYSTEM_OUT">
            <PatternLayout pattern="${CONSOLE_PATTERN}"/>
        </Console>

        <!-- File Appender setup - createDirs attribute removed -->
        <File name="FileAppender"
              fileName="${LOG_PATH}"
              append="false">
            <PatternLayout pattern="${FILE_PATTERN}"/>
        </File>
    </Appenders>

    <Loggers>
        <!-- NEW: Explicitly silence Log4j's internal configuration and debug messages.
             Set to FATAL so nothing below a FATAL internal error is logged. -->
        <Logger name="org.apache.logging.log4j" level="FATAL" additivity="false"/>

        <!-- Specific loggers 'one' and 'two' are set to INFO.
             This means they will only log messages at INFO, WARN, ERROR, and FATAL levels,
             ignoring DEBUG and TRACE to keep the console clean. -->
        <Logger name="one" level="INFO" additivity="false">
            <AppenderRef ref="STDOUT"/>
            <AppenderRef ref="FileAppender"/>
        </Logger>
        <Logger name="two" level="INFO" additivity="false">
            <AppenderRef ref="STDOUT"/>
            <AppenderRef ref="FileAppender"/>
        </Logger>

        <!-- Root Logger ensures all other loggers default to at least INFO -->
        <Root level="INFO">
            <AppenderRef ref="STDOUT"/>
            <AppenderRef ref="FileAppender"/>
        </Root>
    </Loggers>
</Configuration>
